
<p><strong>Username:</strong><%= @user.username %></p>
<p><strong>Role:</strong><%= @user.role %></p>

<% if current_user.role == "Student" %>
<div class="calender">
  <!-- calender goes here with student's booked appointments -->
  Calender of students future appointments
  <p>
    calender div
    <%= render :partial => "/appointments/calendar.html.erb" %>
  </p>
</div>
<div class="past_appointments_list">
  <p>
    past appointments
    <%= render :partial => "past_appointments_list.html.erb" %>
  </p>
  <!-- list of all past appointments without reviews -->
</div>
<div class="book_new_appointment">
  <!-- button/link to calender populated with open appointments-  :"/appointments" -->
  <a href="/appointments">Find a new appointment</a>
</div>
<% elsif current_user.role == "Mentor" %>

<div class="new_appointment">
<form method="get" action="/appointments/new">
  <button type="submit">Make a new appointment</button>
</form>
</div>

<div class="calender">
  <h1>Upcoming Appointments Calendar</h1>
  <!-- calender goes here with mentor's booked appointments -->
</div>

<div class="past_appointments_list">
  <!-- list of all past appointments without reviews -->
  <h1>Leave Reviews on Past Appointments Here!</h1>
  <ul>
  <% @past_appointments.each do |appoint|%>
  <li><a href="/appointments/<%=appoint.id%>"><%= appoint.appointment_time %>
  <%= appoint.mentor_id %>
  <%= appoint.student_id %></a></li>
  <% end %></ul><br>

  <br><li><a href="/reviews/new">Date: <%= (appoint.appointment_time).strftime("%m/%d/%Y") %></a></li>
  Time: <%= (appoint.appointment_time).strftime("%I:%M%p")%><br>
  Assigned Mentor: <%= User.find(appoint.mentor_id).username %><br>
   <% if appoint.student_id == nil %>
    Assigned Student: <%= p "N/A" %><br>
 <% else %>
  Assigned Student: <%= User.find(appoint.mentor).username %><br>
  Message: <%= appoint.message %>
 <% end %><br>

 </ul>
</div>

<div class="book_new_appointment">
  <!-- button/link to calender populated with open appointments-  :"/appointments" -->
</div>

<% elsif current_user.role == "admin" %>

<div class="list_all_users">
<h3>All registered users</h3>
<table>
  <tr>
    <th>User</th>
    <th>Role</th>
  </tr>

  <% @users.each do |user| %>
    <tr>
      <td><%= user.username %></td>
      <td><%= user.role %></td>
      <td><%= link_to 'Delete', user_path(user), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    </tr>
  <% end %>
</table>


</div>

<div class="list_all_appointments">
<h3>All Appointments</h3>
<table>
  <tr>
    <th>Student</th>
    <th>Mentor</th>
    <th>Time</th>
  </tr>

  <% @all_appointments.each do |appt| %>
    <tr>
      <td><%= appt.student_id %></td>
      <td><%= appt.mentor_id %></td>
      <td><%= appt.appointment_time %></td>
    </tr>
  <% end %>
</table>
</div>
<div class="list_all_reviews">
<h3>All Reviews</h3>
<table>
  <tr>
    <th>Author</th>
    <th>Subject</th>
    <th>Stars</th>
    <th>Body</th>
    <th>Appointment ID</th>
  </tr>

  <% @reviews.each do |rev| %>
    <tr>
      <td><%= rev.author_id %></td>
      <td><%= rev.subject_id %></td>
      <td><%= rev.stars %></td>
      <td><%= rev.body %></td>
      <td><%= rev.appointment_id %></td>
    </tr>
  <% end %>
</table>
</div>
<% else %>
something strange is happening
<% end %>
